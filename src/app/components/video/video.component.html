<div class="video-container" style="text-align: center; padding: 20px;">
  <h2>Player de Vídeo com Corte</h2>

  <!-- Dropdown de seleção de vídeo -->
  <div class="select-container" style="display: inline-block; margin-bottom: 20px;">
    <mat-form-field appearance="fill" class="video-select" style="width: 300px;">
      <mat-label>Escolha um vídeo</mat-label>
      <mat-select [(value)]="selectedVideo" (selectionChange)="playVideo($event.value)">
        <mat-option *ngFor="let video of videos" [value]="video">
          {{ video }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>

  <!-- Video Player -->
  <div *ngIf="selectedVideoUrl" class="video-player-container" style="display: flex; justify-content: center; margin-bottom: 20px;">
    <mat-card style="width: 600px;">
      <mat-card-content>
        <video #videoPlayer width="100%" controls (timeupdate)="updateCurrentTime($event)">
          <source [src]="selectedVideoUrl" type="video/mp4">
          Seu navegador não suporta o elemento de vídeo.
        </video>
      </mat-card-content>

      <!-- Barra de Progresso Customizada -->
      <div class="progress-bar-container" style="position: relative; height: 10px; background-color: #e0e0e0; margin-top: 20px;">
        <div class="progress-left" [style.width.%]="(range[0] / videoDuration) * 100" style="height: 100%; background-color: #76c7c0;"></div>
        <div class="progress-middle" [style.width.%]="((range[1] - range[0]) / videoDuration) * 100" [style.left.%]="(range[0] / videoDuration) * 100" style="position: absolute; height: 100%; background-color: #4db6ac;"></div>
        <div class="progress-right" [style.width.%]="((videoDuration - range[1]) / videoDuration) * 100" [style.left.%]="(range[1] / videoDuration) * 100" style="position: absolute; height: 100%; background-color: #d3d3d3;"></div>
      </div>

      <!-- Slider para definir o corte -->
      <div style="margin-top: 20px;">
        <h3>Definir Corte</h3>
        <div style="display: flex; justify-content: center;">
          <ngx-slider
            [(value)]="range[0]"
            [(highValue)]="range[1]"
            [options]="cutSliderOptions">
          </ngx-slider>
        </div>
        <div style="display: flex; justify-content: space-around; margin-top: 10px;">
          <span>Início do corte: {{ range[0] | number: '1.0-2' }}s</span>
          <span>Fim do corte: {{ range[1] | number: '1.0-2' }}s</span>
        </div>
      </div>

      <!-- Inputs para definir o corte manualmente -->
      <div class="time-controls" style="display: flex; justify-content: space-around; margin-top: 20px;">
        <div>
          <label for="startTime">Início:</label>
          <input id="startTime" type="number" [(ngModel)]="range[0]" (change)="seekTo(range[0])" min="0" [max]="range[1]" step="0.1" style="width: 100px;">
        </div>
        <div>
          <label for="endTime">Fim:</label>
          <input id="endTime" type="number" [(ngModel)]="range[1]" (change)="seekTo(range[1])" [min]="range[0]" [max]="videoDuration" step="0.1" style="width: 100px;">
        </div>
      </div>
    </mat-card>
  </div>

  <!-- Botões adicionais para controle -->
  <div style="display: flex; justify-content: center; gap: 10px; margin-top: 20px;">
    <button mat-raised-button color="primary" (click)="playBetween()">Play Between</button>
    <button mat-raised-button color="accent" (click)="toggleLoop()">Loop Between</button>
    <button mat-raised-button color="warn" (click)="cortarVideo()">Fazer Corte</button>
  </div>
</div>
